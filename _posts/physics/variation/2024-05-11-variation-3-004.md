---
title:  "(19) 變分 Hamiltonian vs Lagragian"
categories:
  - physics
tags:
  - variation
---


前面簡述完Hamiltonian和Lagrangian，乍看之下會覺得$H$比$L$多了一個自由度$(p,q)$，我們下面用簡單的等加速運動例子來看待這件事情。


## 加速例子比較$L$ & $H$


### Lagrangian

牛頓力學和$L$的EOM告訴我們

$$
\frac{d^2 x}{dt^2}=a=\text{some constant}
$$

真實軌跡的解是

$$
\left\{
\begin{array}{ll}
x(t)=\frac{a}{2}t^2\\
\dot{x}(t)=at
\end{array}
\right.
$$

現在令

$$
y=\dot{x}
$$

把解畫在$x-y-t$上面，可以得到$x-t$是拋物線，$y-t$是直線，然後顯示到3-D空間的話，true trajectory會是藍色那條。

{% include posts-fig.html path="/physics_variation/Fig19-1.png" %}

現在加一點variation，$\epsilon$是微小的正數，灰色就是variation的軌跡

$$
\left\{
\begin{array}{ll}
x(t)\equiv x^*(t)+\epsilon\sin\frac{2\pi t}{T}\\
\dot{x}(t)=\dot{x^*}(t)+\epsilon 2\pi \cos\frac{2\pi t}{T}
\end{array}
\right.
$$

{% include posts-fig.html path="/physics_variation/Fig19-2.png" %}

簡而言之

$$
x(t)\equiv x^*(t)+\delta x(t)\\
y(t)\equiv y^*(t)+\delta y(t)\\
\delta (\text{something})=\text{small variation at something}
$$
  
注意其中

$$
\delta y=\diff{\delta x}{t} 
$$

是我們自己強制定義的，所以若我們決定綠線$x(t)$，橘線$y(t)$就已經被限制住(無自由度)，這裡的$\delta y$和$\delta x$的關係緊密。

最後得varitaional principle within the Lagrangian formulation:

若

$$
(x(t),y(t))=\left(x^*(t),\diff{x^*(t)}{t}\right)
$$

是真實軌跡，則

$$
\int_{0}^{T} L(x(t),y(t),t)\, dt
$$

就會是極值。而其中一個自由度的限制是

$$
y=\diff{x}{t}
$$

### Hamiltonian

現在換到Hamiltonian，我們改寫EOM，並且先當作數學問題，多個未知的$p$

$$
\left\{
\begin{array}{ll}
  \diff{x}{t}=p\\
  \diff{p}{t}=a
\end{array}
\right.
$$

真實軌跡

$$
\left\{
\begin{array}{ll}
x(t)=\frac{a}{2}t^2\\
p=at
\end{array}
\right.
$$

畫出來的圖會和前面一樣

{% include posts-fig.html path="/physics_variation/Fig19-1.png" %}


現在加variation

$$
\left\{
\begin{array}{ll}
  x(t)\equiv x^*(t)+\epsilon\sin\frac{2\pi t}{T}\\
  y(t)=y^*(t)+\delta p(t)
\end{array}
\right.
$$  

注意這時$\delta p(t)=\delta y$可以是"任意"的小函數，所以原本的綠色線照畫，橘色線不再特定，只要畫過去的3D線可以**再投影到綠線就可以了。**

{% include posts-fig.html path="/physics_variation/Fig19-3.png" %}


最後得varitaional principle within the Hamiltoian formulation:

若

$$
(x(t),y(t))=(x^*(t),p^*(t))
$$

是真實軌跡，則

$$
\int_{0}^{T} p(t)\,dx-H(x,p,t)\, dt
$$

就會是極值。而我們發現

$$
p^*(t)=\diff{x^*}{t} 
$$  

完全是後見之明。


**所以雖然Hamiltonian的自由度更大，想怎麼vary隨便你，但取極值後的true trajectory(真正關心的)和Lagrangian相同！從這點來看的話，Hamiltonian和Lagrangian兩者其實沒有差。**


## 總結比較

| Item        | Lagrangian                                                                 | Hamiltonian                                                                                          |
|-------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
| Transformation | From $L$ to $H$: <br> Given $L(q,q',t) \quad(q'$ 先當作純數學的變數) <br> Define $p\equiv\pdv{L(q,q',t)}{q'}$ <br> So can express $q'\equiv q'(q,p,t)$ <br> Next define <br> $H(q,p,t) = pq'(q,p,t)-L(q,q'(q,p,t),t)$ | From $H$ to $L$: <br> Given $H(q,p,t)$ <br> Define $q'\equiv\pdv{H(q,p,t)}{p}$ <br> So can express $p=p(q,q',t)$ <br> Next define <br> $L(q,q',t)=p(q,q',t)q'-H(q,p(q,q',t),t)$|
| Formula     | 設 $q'(t) \rightarrow \dot{q}(t)$  and consider <br> $I_L \equiv \int_0^T L\left(q, q' = \frac{dq}{dt}, t\right) \, dt$ | Consider <br>$I_H \equiv \int_0^T pdq - H(q, p, t) \, dt $                                             |
| DOF         | $ q(t) $                                                                | $q(t), p(t)$ essentially arbitrary                                                               |
| B.C.        | $q(0) = q^* (0), q(T) = q^* (T)$                                        | $ q(0) = q^* (0), q(T) = q^*(T) $                                                                   |
| Claim       | $ q^*(t) $ extremizes $ I_L $                                         | $(q^* (t), p^ *(t)) $ extremized $ I_H $                                                          |
| Note        | One can prove that $ I_L $ is minimized by $ q^*(t) $ under certain conditions such as in the case when $ T $ is small<br>(真實軌跡會是$ I_L $取最小值，也因為自由度比較小，所以若專注在shape trajectory，會比較快找到路走) | $ I_H $ is only extremized by $ (q^* (t), p^* (t)) $ only. That is, one cannot talk about the minimization of it.<br>(真實軌跡只能說 $ I_H $ 取極值，但因為本來就有較高的自由度去做variation，所以付出的代價就是不一定是最小值) |


<br>
最後是兩者Common的性質：

若我們只考慮真實軌跡，則

$$
I_L[q^*(t)] = I_H[(q^*(t), p^*(t))]
$$

Prf:

$$
\begin{align*}
p^* dq^* - H^* dt &= \left( p^* \frac{dq^*}{dt} - H^* \right) dt \\
&= \left( p^* \frac{dq^*}{dt} - (p^* \dot{q}^* - L(q, \dot{q}, t)) \right) dt \\
&= L dt 
\end{align*}
$$
