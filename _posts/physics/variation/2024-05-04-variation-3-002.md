---
title:  "(17) 變分 Hamiltonian Variational Principle"
categories:
  - physics
tags:
  - variation
---

我們知道變分是更基本的原則，那就一起來看一下Hamiltonian的變分形式吧！


## 推導

設真實的軌跡為$q^* , p^* $

$$
H^*\equiv H(q^*,p^*,t)\\
\diff{q^*}{t}=\pdv{H^*}{p^*}, \quad dq^*=\pdv{H^*}{p^*}dt\\
\diff{p^*}{t}=-\pdv{H^*}{q^*}, \quad dp^*=-\pdv{H^*}{q^*}dt
$$

現在要做的是H的變分，所以讓$(\delta{q},\delta{p})$是任意的微小變量函數(function of t)

$$
\begin{align*}
\delta{H}&\equiv{H}(q^*+\delta{q},p^*+\delta{p},t)-H(q^*,p^*,t)\\
&=\delta{q}\pdv{H^*}{q^*}+\delta{p}\pdv{H^*}{p^*}
\end{align*}
$$

再考慮

$$
\begin{align*}
\delta{p}dq^*-\delta{q}dp^* &=\delta{p}\pdv{H^*}{p^*}dt-\delta{q}\left(-\pdv{H^*}{q^*}\right)dt\\
&=\left(\delta{p}\pdv{H^*}{p^*}+\delta{q}\pdv{H^*}{q^*}\right)dt\\
&=\delta{H}dt
\end{align*}
$$

結合以上可以知道，若我們真的對真實軌跡做變分，則

$$
\delta{p}dq^*-\delta{q}dp^*-\delta{H}dt=0
$$

為了希望能得到標準的$\delta\left(\int_{0}^{T}\cdots\right)=0$的形式，從上式出發推導

$$
\begin{align*}
\int_{0}^{T}\left(\delta{p}dq^*-\delta{q}dp^*-\delta{H}dt\right)&=0\\
&=\int_{0}^{T}\delta(pdq)-p^*\delta(dq)-\delta{qdp^*}-\delta{H}dt\quad(\because \delta(pdq)=\delta{pdq^*}+p^*\delta(dq))\\
&=\int_{0}^{T}\delta(pdq)-p^*d(\delta{q})-\delta{qdp^*}-\delta{H}dt\\
&=\int_{0}^{T}\delta(pdq-Hdt)-\int_{0}^{T}(p^*d(\delta{q})+\delta{q}dp^*)\\
&=\int_{0}^{T}\delta(pdq-Hdt)-\int_{0}^{T}d(p^*\delta{q})\\
&=\left(\delta\int_{0}^{T}(pdq-Hdt)\right)-p^*\delta{q}\bigg|_{t=0}^{t=T}\\
&=\delta\int_{0}^{T}(pdq-Hdt) = 0\\
\end{align*}
$$

<div class="post_note">
Note:
<br>
最後一行因為變量在終端點為零

$$
\delta{q}(t=0)=0\\
\delta{q}(t=T)=0
$$

但是注意這裡只有對$q$的邊界條件有限制。


如果邊界條件是$p$的話，那就會另外求出$\int qdp$的公式。

</div>

## 變分形式

小結一下，對所有任意且微小變化量

$$
\delta{q}\\
\delta{p}
$$

且邊界條件

$$
\delta{q}(0)=\delta{q}(T) = 0
$$

則

$$
\delta\int_{0}^{T}(pdq-Hdt)=0
$$


畫圖囉！(注意圖中只有對$q$的邊界條件有限制)

{% include posts-fig.html path="/physics_variation/Fig15.png" %}

$$
\int_{0}^{T}(pdq-Hdt)-\int_{0}^{T}(p^*dq^*-H^*dt)=0\\
\text{ correct to the 1st order variation q and p }
$$


